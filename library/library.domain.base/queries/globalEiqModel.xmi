<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:eMFPatternLanguage="http://www.eclipse.org/incquery/patternlanguage/emf/EMFPatternLanguage" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:patternLanguage="http://www.eclipse.org/incquery/patternlanguage/PatternLanguage" xmlns:types="http://www.eclipse.org/xtext/common/JavaVMTypes" xmlns:xbase="http://www.eclipse.org/xtext/xbase/Xbase">
  <eMFPatternLanguage:PatternModel>
    <patterns name="library.base.writerName" fileName="platform:/resource/library.domain.base/src/library/base/BaseQueries.eiq">
      <parameters name="W">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
        </type>
      </parameters>
      <parameters name="N"/>
      <bodies>
        <constraints xsi:type="patternLanguage:PathExpressionConstraint">
          <head>
            <type xsi:type="eMFPatternLanguage:ClassType">
              <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EAttribute" href="library.base#//Writer/firstName"/>
              </type>
            </tail>
            <src var="W"/>
            <dst xsi:type="patternLanguage:VariableValue">
              <value var="FN"/>
            </dst>
          </head>
        </constraints>
        <constraints xsi:type="patternLanguage:PathExpressionConstraint">
          <head>
            <type xsi:type="eMFPatternLanguage:ClassType">
              <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EAttribute" href="library.base#//Writer/lastName"/>
              </type>
            </tail>
            <src var="W"/>
            <dst xsi:type="patternLanguage:VariableValue">
              <value var="LN"/>
            </dst>
          </head>
        </constraints>
        <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
          <call patternRef="/0/@patterns.1">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="W"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="C"/>
            </parameters>
          </call>
        </constraints>
        <constraints xsi:type="patternLanguage:CompareConstraint">
          <leftOperand xsi:type="patternLanguage:VariableValue">
            <value var="N"/>
          </leftOperand>
          <rightOperand xsi:type="patternLanguage:FunctionEvaluationValue">
            <expression xsi:type="xbase:XBinaryOperation">
              <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.String)"/>
              <leftOperand xsi:type="xbase:XBinaryOperation">
                <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.Object)"/>
                <leftOperand xsi:type="xbase:XBinaryOperation">
                  <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.String)"/>
                  <leftOperand xsi:type="xbase:XBinaryOperation">
                    <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.String)"/>
                    <leftOperand xsi:type="xbase:XBinaryOperation">
                      <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.String)"/>
                      <leftOperand xsi:type="xbase:XFeatureCall" feature="/1"/>
                      <rightOperand xsi:type="xbase:XStringLiteral" value=" "/>
                    </leftOperand>
                    <rightOperand xsi:type="xbase:XFeatureCall" feature="/2"/>
                  </leftOperand>
                  <rightOperand xsi:type="xbase:XStringLiteral" value=" ("/>
                </leftOperand>
                <rightOperand xsi:type="xbase:XFeatureCall" feature="/3"/>
              </leftOperand>
              <rightOperand xsi:type="xbase:XStringLiteral" value=")"/>
            </expression>
          </rightOperand>
        </constraints>
      </bodies>
    </patterns>
    <patterns name="library.base.numberOfBooksOfWriter" fileName="platform:/resource/library.domain.base/src/library/base/BaseQueries.eiq">
      <parameters name="W">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
        </type>
      </parameters>
      <parameters name="N"/>
      <bodies>
        <constraints xsi:type="patternLanguage:CompareConstraint">
          <leftOperand xsi:type="patternLanguage:VariableValue">
            <value var="N"/>
          </leftOperand>
          <rightOperand xsi:type="patternLanguage:AggregatedValue">
            <aggregator xsi:type="patternLanguage:CountAggregator"/>
            <call patternRef="/0/@patterns.2">
              <parameters xsi:type="patternLanguage:VariableValue">
                <value var="W"/>
              </parameters>
              <parameters xsi:type="patternLanguage:VariableValue">
                <value var="_B"/>
              </parameters>
            </call>
          </rightOperand>
        </constraints>
      </bodies>
    </patterns>
    <patterns name="library.base.bookOfWriter" fileName="platform:/resource/library.domain.base/src/library/base/BaseQueries.eiq">
      <parameters name="W">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
        </type>
      </parameters>
      <parameters name="B">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Book"/>
        </type>
      </parameters>
      <bodies>
        <constraints xsi:type="patternLanguage:PathExpressionConstraint">
          <head>
            <type xsi:type="eMFPatternLanguage:ClassType">
              <classname xsi:type="ecore:EClass" href="library.base#//Writer"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="library.base#//Writer/books"/>
              </type>
            </tail>
            <src var="W"/>
            <dst xsi:type="patternLanguage:VariableValue">
              <value var="B"/>
            </dst>
          </head>
        </constraints>
      </bodies>
    </patterns>
    <patterns name="library.base.bookTitle" fileName="platform:/resource/library.domain.base/src/library/base/BaseQueries.eiq">
      <parameters name="B">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Book"/>
        </type>
      </parameters>
      <parameters name="N"/>
      <bodies>
        <constraints xsi:type="patternLanguage:PathExpressionConstraint">
          <head>
            <type xsi:type="eMFPatternLanguage:ClassType">
              <classname xsi:type="ecore:EClass" href="library.base#//Book"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EAttribute" href="library.base#//Book/title"/>
              </type>
            </tail>
            <src var="B"/>
            <dst xsi:type="patternLanguage:VariableValue">
              <value var="T"/>
            </dst>
          </head>
        </constraints>
        <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
          <call patternRef="/0/@patterns.4">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="B"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="C"/>
            </parameters>
          </call>
        </constraints>
        <constraints xsi:type="patternLanguage:CompareConstraint">
          <leftOperand xsi:type="patternLanguage:VariableValue">
            <value var="N"/>
          </leftOperand>
          <rightOperand xsi:type="patternLanguage:FunctionEvaluationValue">
            <expression xsi:type="xbase:XBinaryOperation">
              <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.String)"/>
              <leftOperand xsi:type="xbase:XBinaryOperation">
                <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.StringExtensions#org.eclipse.xtext.xbase.lib.StringExtensions.operator_plus(java.lang.String,java.lang.Object)"/>
                <leftOperand xsi:type="xbase:XBinaryOperation">
                  <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.ObjectExtensions#org.eclipse.xtext.xbase.lib.ObjectExtensions.operator_plus(java.lang.Object,java.lang.String)"/>
                  <leftOperand xsi:type="xbase:XFeatureCall" feature="/4"/>
                  <rightOperand xsi:type="xbase:XStringLiteral" value=" ("/>
                </leftOperand>
                <rightOperand xsi:type="xbase:XFeatureCall" feature="/5"/>
              </leftOperand>
              <rightOperand xsi:type="xbase:XStringLiteral" value=")"/>
            </expression>
          </rightOperand>
        </constraints>
      </bodies>
    </patterns>
    <patterns name="library.base.numberOfWritersOfBook" fileName="platform:/resource/library.domain.base/src/library/base/BaseQueries.eiq">
      <parameters name="B">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="library.base#//Book"/>
        </type>
      </parameters>
      <parameters name="C"/>
      <bodies>
        <constraints xsi:type="patternLanguage:CompareConstraint">
          <leftOperand xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </leftOperand>
          <rightOperand xsi:type="patternLanguage:AggregatedValue">
            <aggregator xsi:type="patternLanguage:CountAggregator"/>
            <call patternRef="/0/@patterns.2">
              <parameters xsi:type="patternLanguage:VariableValue">
                <value var="_W"/>
              </parameters>
              <parameters xsi:type="patternLanguage:VariableValue">
                <value var="B"/>
              </parameters>
            </call>
          </rightOperand>
        </constraints>
      </bodies>
    </patterns>
    <importPackages>
      <packageImport>
        <ePackage href="library.base#/"/>
      </packageImport>
    </importPackages>
  </eMFPatternLanguage:PatternModel>
  <types:JvmFormalParameter name="FN">
    <parameterType xsi:type="types:JvmParameterizedTypeReference"/>
  </types:JvmFormalParameter>
  <types:JvmFormalParameter name="LN">
    <parameterType xsi:type="types:JvmParameterizedTypeReference"/>
  </types:JvmFormalParameter>
  <types:JvmFormalParameter name="C">
    <parameterType xsi:type="types:JvmParameterizedTypeReference"/>
  </types:JvmFormalParameter>
  <types:JvmFormalParameter name="T">
    <parameterType xsi:type="types:JvmParameterizedTypeReference"/>
  </types:JvmFormalParameter>
  <types:JvmFormalParameter name="C">
    <parameterType xsi:type="types:JvmParameterizedTypeReference"/>
  </types:JvmFormalParameter>
</xmi:XMI>
